[build]
target = "./index.html"
dist = "dist"
public_url = "./"      
hash = false  # 禁用哈希，保持文件名稳定                                                        

[assets]
[[assets.copy]]
src = "dist/tailwind.css"
dest = "tailwind.css"  # 简化目标路径，避免 dist 嵌套hash = false  # 禁用哈希，保持文件名稳定# 直接引用生成的 tailwind.css，无需额外复制（Trunk 会自动处理 dist 目录）

[watch]
paths = [
  "./src/**/*.rs",
  "./index.html",
  "./styles.css",
  "./tailwind.config.js"
]
before_build = ["./tailwindcss.exe -i styles.css -o dist/tailwind.css --minify"]
command = "./tailwindcss -i ./styles.css -o ./dist/tailwind.css --minify"
ignore = ["Cargo.lock", "dist/"]  # 忽略生成目录，避免循环触发

# 监听的文件路径
# 启动监听前先执行一次CSS生成
# 当监听的文件变化时执行的命令
[serve]
port = 1420
open = false
